# React

## React란?

React란 사용자 인터페이스를 구축하기 위한 선언적이고 효율적이며 유현한 JavaScript 라이브러리입니다.

구조가 MVC(Model-View-Controller) 아키텍처, MVVM(Model-View-View Model) MVW(Model-View-Whatever) 아키텍처 등인 프레임워크와 달리, **오직 V(View)만 신경 씁니다.**

컴포넌트라는 것을 이용하여 복잡한 UI를 구성하도록 돕습니다.

컴포넌트는 다른 프레임워크에서 사용자 인터페이스를 다룰 때 사용하는 템플릿과는 다른 개념입니다.

컴포넌트는 재사용이 가능한 API로 수많은 기능들을 내장하고 있습니다.
컴포넌트 하나에서 해당 컴포넌트의 UI와 작동방식을 정의합니다.

### 1.1. 초기 렌더링

프레임워크, 라이브러리는 맨 처음에 어떻게 보일지를 정하는 초기 렌더링이 필요합니다.

리액트에서는 render 함수가 있습니다.

```js
ReactDOM.render();
```

컴포넌트 내부에는 다른 컴포넌트들이 들어갈 수 있는데 이때 render 함수를 실행하면 내부에 있는 컴포넌트들도 재귀적으로 렌더링합니다.

### 1.2. 리렌더링

컴포넌트 데이터 변경(Prop, State 변경)으로 다시 실행되는 것입니다.

리액트에서는 뷰를 업데이트 할 때 "업데이트 과정을 거친다"라고 하기 보다는 "조화 과정(서로 어울리는 과정)을 거친다"라고 하는 것이 더 정확한 표현입니다. React에서는 Diff 알고리즘을 통해 조화과정을 거칩니다.

컴포넌트에서 데이터 변화가 있을 때 우리가 보기에는 변화에 따라 뷰가 변형되는 것처럼 보이지만, 사실은 새로운 요소로 갈아 끼우는 것입니다.

데이터를 업데이트 했을 때 단순히 업데이트 값을 수정하는 것이 아니라, 새로운 데이터를 가지고 리렌더링됩니다.

![](https://media.vlpt.us/images/white-jang/post/7d1dccc6-f59c-4778-844e-377e3d57366f/image.png)

자바스크립트를 사용하여 두 가지 뷰를 최소한의 연산으로 비교한 후, 둘의 차이를 알아내 최소한의 연산으로 DOM트리를 업데이트 합니다.

## Virtual DOM

웹 브라우저는 트리 형태의 DOM을 활용하여 JS,CSS를 적용하고, 특정 노드를 찾아 수정하거나 원하는 위치에 삽입할 수 있습니다. 하지만 DOM은 동적 UI에 최적화되어 있지 않는다는 문제점이 있습니다.

**DOM 자체는 빠르다.** 하지만 프로젝트의 크기가 커지고 DOM에 직접 접근하여 변화를 주다보면 웹 브라우저가 CSS를 다시 연산하고, 레이아웃을 구성하고, 페이지를 리페인팅 하는 과정에서 시간을 허비합니다.

DOM을 조작할 때마다 엔진이 웹페이지를 새로 그리면서 업데이트가 잦아지면 성능이 저하가 된다. DOM을 최소한으로 조작하여 작업을 처리하여 개선할 수 있습니다.

**리액트는 Virtual DOM 방식을 사용하여 DOM 업데이트를 추상화함으로 DOM 처리 횟수를 최소화하고 효율적으로 진행합니다.**

Virtual DOM을 사용하면 실제 DOM에 접근하여 조작하는 대신, 이를 추상화한 자바스크립트 객체를 구성하여 사용합니다.

1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 리렌더링합니다.
2. 이전 Virtual DOM에 있던 내용과 현재 내용을 비교합니다.
3. 바뀐 부분만 실제 DOM에 적용합니다.

**리액트와 Virtual DOM을 사용한다고 무조건 빠른 것은 아닙니다**

지속적으로 데이터가 변화하는 대규모 애플리케이션 구축하는 것이 리액트의 목표입니다.

리액트를 사용하지 않고 코드 최적화를 통해 DOM 작업이 느려지는 문제를 개선할 수 있고, 단순 라우팅만 있는 정적인 페이지는 오히려 리액트를 사용하지 않는 편이 더 나은 성능을 보이기도 합니다.

리액트와 Virutual DOM은 UI를 업데이트하는 과정에서 생기는 복잡함을 해소하고, 쉽게 업데이트에 접근할 수 있는 것입니다.

## 특징

리액트는 view만 신경쓰기 때문에 다른 웹프레임워크가 내장하고 있는 Ajax, 데이터 모델링, 라우팅 같은 기능을 직접 구현해야 하지만 필요에 따른 라이브러리가 많기 때문에 이 문제는 해결할 수 있습니다. 마음에 드는 라이브러리를 골라 사용할 수 있는 장점이 있는데 여러 라이브러리를 접해야 한다는 단점도 가지고 있습니다.
리액트는 다른 웹 프레임워크와도 혼용할 수도 있는 장점도 있습니다.

## Reference

- 리액트를 다루는 기술 저자 - 김민준
- https://ko.reactjs.org/tutorial/tutorial.html#what-are-we-building
- https://react.vlpt.us/basic/01-concept.html
