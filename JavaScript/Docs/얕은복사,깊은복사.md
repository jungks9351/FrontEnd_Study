# 얕은 복사 vs 깊은 복사

얕은 복사(Shallow Copy)와 깊은 복사(Deep Copy), 두 개념의 차이는 얕은 복사는 객체의 참조값(주소값)을 복사하고, 깊은 복사는 객체의 실제 값(value)를 복사합니다.

## 얕은 복사

객체를 복사할 때 원래값과 복사된 값이 같은 참조를 가리키고있는 것입니다.

- 객체를 복사할 때, 해당 객체만 복사하여 새 객체를 생성합니다.
- 복사된 객체의 인스턴스 변수는 원본 객체의 인스턴스 변수와 같은 메모리 주소를 참조합니다.
- 해당 메모리 주소의 값이 변경되면 원본 객체 및 복사 객체의 인스턴스 변수 값은 같이 변경됩니다.

```js
const obj = {
  a: 1,
  b: 2,
};

const obj2 = obj;

obj2.a = 3;

console.log(obj); // { a: 3, b: 2 }
console.log(obj2); // { a: 3, b: 2 }
```

참조값을 복사할 때는 변수가 객체의 참조를 가리키고 있기 때문에 복사된 변수 또한 객체가 저장된 메모리 공간의 참조를 가리키고 있습니다.
복사를 하고 객체를 수정하면 두 변수는 똑같은 참조를 가리키고 있기 때문에 기존 객체를 저장한 변수에 영향을 끼칩니다.

## 깊은 복사

깊은 복사된 객체는 객체안에 객체가 있을 경우에도 원본과의 참조가 완전히 끊어진 객체를 말합니다.

- 객체를 복사 할 때, 해당 객체와 인스턴스 변수까지 복사하는 방식입니다.
- 전부를 복사하여 새 주소에 담기 때문에 참조를 공유하지 않습니다.

```js
const a = 1;
let b = 2;

b = 3;

console.log(a);
console.log(b);
```

원시값을 복사할 때 그 값은 또 다른 독립적인 메모리 공간에 할당하기 때문에, 복사를 하고 값을 수정해도 기존 원시값을 저장한 변수에는 영향을 끼치지 않습니다

## 참고

- https://bbangson.tistory.com/78
- https://rok93.tistory.com/entry/%EC%96%95%EC%9D%80%EB%B3%B5%EC%82%AC-VS-%EA%B9%8A%EC%9D%80%EB%B3%B5%EC%82%AC
